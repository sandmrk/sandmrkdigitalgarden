---
permalink: /searchIndex.json
eleventyExcludeFromCollections: true
---
[
{%- for post in collections.note -%}
{
    "title": {% if post.data.title %}{{ post.data.title | jsonify | safe }}{% else %}{{ post.fileSlug | jsonify | safe }}{% endif %},
    "date": "{{ post.date }}",
    "url": "{{ post.url }}",
    "author": {% if post.data.author %}{{ post.data.author | jsonify | safe }}{% else %}"CGFan"{% endif %},
    "cover": {% if post.data.cover %}{{ post.data.cover | jsonify | safe }}{% else %}""{% endif %},
    "content": {{ post.templateContent | striptags(true) | link | jsonify | safe }},
    "tags": [
        {%- set contentTags = post.templateContent | link | searchableTags -%}
        {{ contentTags | safe }}
        {%- if post.data.tags -%}
            {%- if contentTags and contentTags != "" -%},{%- endif -%}
            {%- for tag in post.data.tags -%}
                "{{ tag | validJson }}"{%- if not loop.last -%},{%- endif -%}
            {%- endfor -%}
        {%- endif -%}
    ]
}{% if not loop.last %},{% endif %}
{%- endfor -%}
]
